package
{
	public class StepTimeline
	{
		private var _line:Array;
		
		private var _currIndex:int;
		
		public function StepTimeline()
		{
			resetTimeline();
		}
		
		private function resetTimeline():void{
			_line = [];
			_currIndex = 0;
		}
		
		public function pushStep( step:StepInfo ):void{
			_line.push( step );
			_currIndex = _line.length - 1;
		}
		
		public function getCurrStep():StepInfo{
			if( _currIndex >= _line.length || _currIndex < 0 ){
				return null;
			}
			
			return _line[_currIndex];
		}
		
		public function getPrevStep():StepInfo
		{
			_currIndex--;
			return getCurrStep();
		}
		
		public function getNextStep():StepInfo{
			_currIndex++;
			return getCurrStep();
		}
		
		public function getFirst():StepInfo{
			_currIndex = 0;
			return getCurrStep();
		}
		
		public function getLast():StepInfo{
			_currIndex = _line.length - 1;
			return getCurrStep();
		}
		
		public function clearAll():void
		{
			resetTimeline();
		}
		
		public function dispose():void{
			resetTimeline();
		}
	}
}